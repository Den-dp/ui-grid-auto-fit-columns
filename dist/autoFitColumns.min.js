!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("angular"));else if("function"==typeof define&&define.amd)define(["angular"],e);else{var r=e("object"==typeof exports?require("angular"):t.angular);for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(this,function(t){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";var n=r(1),i=r(2),o=r(17);Object.defineProperty(e,"__esModule",{value:!0}),e.default=n.module("ui.grid.autoFitColumns",["ui.grid"]).service("uiGridAutoFitColumnsService",i.UiGridAutoFitColumnsService).directive("uiGridAutoFitColumns",o.UiGridAutoFitColumnsDirective).name},function(e,r){e.exports=t},function(t,e,r){"use strict";var n=r(3),i=r(15),o=r(16),u=function(){function t(t,e){this.$q=t,this.$filter=e,this.gridMetrics=new o.default}return t.$inject=["$q","$filter"],t.prototype.initializeGrid=function(e){e.registerColumnBuilder(this.colAutoFitColumnBuilder.bind(this)),e.registerColumnsProcessor(this.columnsProcessor.bind(this),60),t.defaultGridOptions(e.options)},t.defaultGridOptions=function(t){t.enableColumnAutoFit=t.enableColumnAutoFit!==!1},t.prototype.getFilterIfExists=function(t){try{return this.$filter(t)}catch(t){return null}},t.prototype.getFilteredValue=function(t,e){if(e&&""!==e){var r=this.getFilterIfExists(e);if(r)t=r(t);else{var n=/([^:]*):([^:]*):?([\s\S]+)?/,i=void 0;null!==(i=n.exec(e))&&(t=this.$filter(i[1])(t,i[2],i[3]))}}return t},t.prototype.colAutoFitColumnBuilder=function(e,r,n){var i=[];return void 0===e.enableColumnAutoFit&&(t.isResizable(e)?e.enableColumnAutoFit=n.enableColumnAutoFit:e.enableColumnAutoFit=!1),this.$q.all(i)},t.isResizable=function(t){return!t.hasOwnProperty("width")},t.prototype.columnsProcessor=function(t,e){var r=this;if(!e.length)return t;var o={};return t.forEach(function(t){if(t.colDef.enableColumnAutoFit){var u=t.field||t.name;o[u]=i.default.measureRoundedTextWidth(t.displayName,r.gridMetrics.getHeaderFont())+r.gridMetrics.getHeaderButtonsWidth(),e.forEach(function(e){var l=n(e.entity,u);t.colDef.cellFilter&&(l=r.getFilteredValue(l,t.colDef.cellFilter));var c=i.default.measureRoundedTextWidth(l,r.gridMetrics.getCellFont()),a=c>300?300:c;a>o[u]&&(o[u]=a)}),t.colDef.width=o[u]+r.gridMetrics.getPadding()+r.gridMetrics.getBorder(),t.updateColumnDef(t.colDef,!1)}}),t},t}();e.UiGridAutoFitColumnsService=u},function(t,e,r){function n(t,e,r){var n=null==t?void 0:i(t,o(e),e+"");return void 0===n?r:n}var i=r(4),o=r(7);t.exports=n},function(t,e,r){function n(t,e,r){if(null!=t){void 0!==r&&r in i(t)&&(e=[r]);for(var n=0,o=e.length;null!=t&&n<o;)t=t[e[n++]];return n&&n==o?t:void 0}}var i=r(5);t.exports=n},function(t,e,r){function n(t){return i(t)?t:Object(t)}var i=r(6);t.exports=n},function(t,e){function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=r},function(t,e,r){function n(t){if(o(t))return t;var e=[];return i(t).replace(u,function(t,r,n,i){e.push(n?i.replace(l,"$1"):r||t)}),e}var i=r(8),o=r(9),u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,l=/\\(\\)?/g;t.exports=n},function(t,e){function r(t){return null==t?"":t+""}t.exports=r},function(t,e,r){var n=r(10),i=r(14),o=r(13),u="[object Array]",l=Object.prototype,c=l.toString,a=n(Array,"isArray"),d=a||function(t){return o(t)&&i(t.length)&&c.call(t)==u};t.exports=d},function(t,e,r){function n(t,e){var r=null==t?void 0:t[e];return i(r)?r:void 0}var i=r(11);t.exports=n},function(t,e,r){function n(t){return null!=t&&(i(t)?d.test(c.call(t)):o(t)&&u.test(t))}var i=r(12),o=r(13),u=/^\[object .+?Constructor\]$/,l=Object.prototype,c=Function.prototype.toString,a=l.hasOwnProperty,d=RegExp("^"+c.call(a).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=n},function(t,e,r){function n(t){return i(t)&&l.call(t)==o}var i=r(6),o="[object Function]",u=Object.prototype,l=u.toString;t.exports=n},function(t,e){function r(t){return!!t&&"object"==typeof t}t.exports=r},function(t,e){function r(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}var n=9007199254740991;t.exports=r},function(t,e){"use strict";var r=function(){function t(){}return t.measureTextWidth=function(e,r){var n=t.canvas||(t.canvas=document.createElement("canvas")),i=n.getContext("2d");i.font=r;var o=i.measureText(e);return o.width},t.measureRoundedTextWidth=function(e,r){var n=t.measureTextWidth(e,r);return Math.floor(n)+1},t}();e.Measurer=r,Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e){"use strict";var r=function(){function t(){}return t.prototype.getHeaderFont=function(){if(this.headerFont)return this.headerFont;var e=document.querySelector(".ui-grid-header-cell .ui-grid-cell-contents");if(!e)throw new Error("not found: .ui-grid-header-cell .ui-grid-cell-contents");var r=getComputedStyle(e);return this.headerFont=t.getFontStringFrom(r),this.headerFont},t.prototype.getCellFont=function(){if(this.cellFont)return this.cellFont;var e=document.querySelector(".ui-grid-cell > .ui-grid-cell-contents");if(!e){var r=document.createElement("div");r.className="ui-grid-cell-contents",r.style.cssFloat="left",angular.element(document.body).append(r);var n=getComputedStyle(r);return this.cellFont=t.getFontStringFrom(n),angular.element(r).remove(),this.cellFont}var i=getComputedStyle(e);return this.cellFont=t.getFontStringFrom(i),this.cellFont},t.prototype.getPadding=function(){if(this.padding)return this.padding;var t=document.querySelector(".ui-grid-header-cell .ui-grid-cell-contents");if(!t)throw new Error("not found: .ui-grid-header-cell .ui-grid-cell-contents");var e=getComputedStyle(t),r=e.paddingLeft,n=e.paddingRight;return this.padding=parseInt(r)+parseInt(n),this.padding},t.prototype.getBorder=function(){if(this.border)return this.border;var t=document.querySelector(".ui-grid-header-cell");if(!t)throw new Error("not found: .ui-grid-header-cell");var e=getComputedStyle(t).borderRightWidth;return this.border=parseInt(e),this.border},t.prototype.getHeaderButtonsWidth=function(){var t=25;return t},t.getFontStringFrom=function(t){var e=t.fontStyle,r=t.fontVariant,n=t.fontWeight,i=t.fontSize,o=t.fontFamily;return e+" "+r+" "+n+" "+i+" "+o},t}();e.UiGridMetrics=r,Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e){"use strict";function r(t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,r,n,i){t.initializeGrid(i.grid)}}}}}r.$inject=["uiGridAutoFitColumnsService"],e.UiGridAutoFitColumnsDirective=r}])});
//# sourceMappingURL=autoFitColumns.min.js.map